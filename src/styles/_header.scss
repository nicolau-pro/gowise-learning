@use "colors";
@use "variables" as vars;

header {
  $menu-height: vars.$menu-desktop-height;
  $menu-color: colors.$primary;

  position: fixed;
  top: 0;
  left: 0;
  z-index: 2;
  height: $menu-height;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: white;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);

  nav {
    position: relative;
    flex: 1;
    height: 100%;
    max-width: vars.$content-width;
    padding: 0 2em;
    display: flex;

    .logo {
      width: 100%;
      height: 100%;
      display: flex;

      @media (max-width: vars.$mobile-break-max) {
        width: vars.$menu-mobile-height;
        height: vars.$menu-mobile-height;
      }

      a {
        height: 100%;
        display: flex;
        align-items: center;
        width: max-content;
        opacity: 1;
        transition: opacity 0.1s ease-out;
        @media (max-width: vars.$mobile-break-max) {
          width: vars.$menu-mobile-height;
          overflow: hidden;
        }

        img {
          height: 60px;
          width: auto;
          @media (max-width: vars.$mobile-break-max) {
            height: vars.$menu-mobile-height - 20px;
            margin-left: 10px;
            clip-path: inset(0 75% 0 0);
          }
        }

        &:hover {
          opacity: 0.8;
        }
      }
    }

    ul {
      height: 100%;
      display: flex;
      list-style: none;
      padding: 0;
      margin: 0;
      @media (max-width: vars.$mobile-break-max) {
        flex: 1;
      }

      li {
        margin: 0;
      }

      a {
        width: vars.$menu-desktop-block;
        max-width: vars.$menu-desktop-block;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        display: flex;
        text-decoration: none;
        font-family: vars.$font-body;
        font-size: 20px;
        font-weight: 500;
        background: transparent;

        letter-spacing: 0.02em;
        $shadow: 0;
        box-shadow: inset 0 $shadow 0 $menu-color;

        transition: box-shadow 0.1s ease-out, color 0.1s ease-out,
          letter-spacing 0.1s ease-out;

        span {
          color: color-mix(in srgb, colors.$neutral 80%, white);

          &:first-of-type {
            color: colors.$primary_highlight;
          }

          &:nth-of-type(3) {
            font-size: 0.9em;
            margin-bottom: -1.2em;
            letter-spacing: -0.02em;
            opacity: 0.78;
            font-weight: 300;
          }

          @media (max-width: vars.$mobile-break-max) {
            letter-spacing: -0.02em;
            font-weight: 600;
            font-size: 13px;
          }

          @media (max-width: 399px) {
            font-size: 12px;
          }
        }

        &:hover,
        &:focus-visible,
        &.current {
          letter-spacing: 0.03em;
        }

        &:hover,
        &:focus-visible {
          $shadow: -12px;
          box-shadow: inset 0 $shadow 0 colors.$primary_highlight;
        }

        &.current {
          $shadow: -1 * $menu-height;
          box-shadow: inset 0 $shadow 0 $menu-color;
          color: white;
          letter-spacing: 0.03em;
          font-weight: 400;

          span {
            color: white;

            &:first-of-type {
              color: color-mix(in srgb, colors.$primary_highlight 40%, white);
            }
          }
        }

        &:active {
          color: $menu-color;
        }
      }
    }
  }

  @media (max-width: vars.$mobile-break-max) {
    $menu-height: vars.$menu-mobile-height;
    $block-width: vars.$menu-mobile-height;

    height: $menu-height;

    nav {
      height: 100%;
      padding: 0;

      ul {
        background-image: none;
        justify-content: space-between;

        li {
          flex: 1;
          padding: 0;

          &:first-of-type {
            max-width: $menu-height;
          }
        }

        .logo {
          width: $menu-height;
          max-width: $menu-height;
        }

        a {
          width: 100%;
          font-size: 0.6em;
          font-weight: 700;

          &:hover,
          &:focus-visible,
          &.current {
            letter-spacing: 0;
          }

          span:first-of-type {
            font-size: 3em;
          }
        }
      }
    }
  }
}
